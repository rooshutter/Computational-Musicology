---
title: "Portfolio"
author: "Roos Hutter"
date: "2023-02-22"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
    theme:
      base_font: 
        google: Source Sans Pro
    
---

```{r setup, include=FALSE}
library(flexdashboard)
library(readr)
library(leaflet)
library(DT)
library(tidyverse)
library(lubridate)
library(plotly)
library(spotifyr)
library(Cairo)
library(compmus)
library(grid)
library(gridExtra)

otra <- readRDS(file = "data/otra-data.RDS")

knitr::opts_chunk$set(echo=FALSE)
```

Introduction {data-icon="queue-music-rounded"}
=========================================

Column {data-width=700}
-------------------------------------

### .

**The 'On the road (again)' corpus**

For this computational musicological analysis I'm going to use a shared playlist between my sisters and I, called 'On the road (again)'. Down below you can see a picture of Julia, Willemijn and me (Roos). This playlist was used on vacation last year to combine our different tastes in music. Therefore the focus will be on the differences and similarities between the songs each of us put in the playlist. 

**Expectations**

I think it will be interesting to analyze the different genres of the songs. Additionally, the energy the songs have is an interesting aspect to look more into. Because they are my sister, I already have some speculations about these differences. However, it still will be worth looking into. I expect the artists and release dates of the songs to be different. Also, the similarities between the songs will be interesting to discover. Since this playlist was made to listen to during car rides, I expect the songs to have somewhat of a similar sound. Furthermore, my sisters and I do influence each others music taste a little bit. I hope to discover more about who influences who and in what way exactly.

### .

![](Julia.jpeg){width=50} 

![](Willemijn.png){width=50} 

![](Roos.jpeg){width=50}

Column {data-width=300}
-------------------------------------

<iframe src="https://open.spotify.com/embed/playlist/6cZQQaJ0MsSHyUfGyuLgGK?utm_source=generator&theme=0" width="100%" height="100%" frameBorder="0" allowtransparency="true" allow="encrypted-media" data-external="1"></iframe>

# Visualisations {.storyboard}

### Tempogram {data-commentary-width=300}
```{r}
tempogram <- readRDS(file = "data/tempogram.RDS")
tempogram
```
***
This is a Fourier-based tempogram of the song Viva La Vida by Coldplay.

### Chordogram 
```{r}
queen_plot <- readRDS(file = "data/queen_plot.RDS")
phil_plot <- readRDS(file = "data/phil_plot.RDS")

grid.arrange(queen_plot, phil_plot, ncol = 1)

```

***
These are chordograms of Good Old-Fashioned Lover Boy by Queen and Son of Man by Phil Collins


### Chroma vs Timbre of Acid Tears - Culi. {data-commentary-width=300}
```{r}
plot_at_chroma <- readRDS(file = "data/plot_at_chroma.RDS")
plot_at_timbre <- readRDS(file = "data/plot_at_timbre.RDS")

subplot(plot_at_chroma, plot_at_timbre) 
```
*** 
These plots show the chroma (left) and timbre (right) of the song 'Acid Tears' by 'Culi.'. It was added by me. The song is pretty consistent till about 2.45. This is shown well in the chromagram, at 165 the chroma changes. Before this point it was mostly C#, and after it is higher and switches between A#, G#, F# and F. This switch is also seen in the timbre, at the end the c02 is present.

### Self-similarity matrices of Acid Tears - Culi. {data-commentary-width=300}
```{r}
bzt <- readRDS(file = "data/bzt.RDS")

bind_rows(
  bzt |> 
    compmus_self_similarity(pitches, "aitchison") |> 
    mutate(d = d / max(d), type = "Chroma"),
  bzt |> 
    compmus_self_similarity(timbre, "euclidean") |> 
    mutate(d = d / max(d), type = "Timbre")
) |>
  mutate() |> 
  ggplot(
    aes(
      x = xstart + xduration / 2,
      width = xduration,
      y = ystart + yduration / 2,
      height = yduration,
      fill = d
    )
  ) +
  geom_tile() +
  coord_fixed() +
  facet_wrap(~type) +
  scale_fill_viridis_c(option = "E", guide = "none") +
  theme_classic() + 
  labs(x = "", y = "", title="Self-similarity matrices")
```

***
These are self-similarity matrices of chroma and timbre of Acid Tears by Culi.. 

### Visualisation of the Acousticness {data-commentary-width=300}

```{r}
plot_acousticness <- readRDS(file = "data/plot_acousticness.RDS")

ggplotly(plot_acousticness)

```

***
This plot is a boxplot about the acousticness of the songs added by Julia, Willemijn and Roos. You can clearly see that I have songs which are the most acoustic. It's interesting to see that Julia and Willemijn have similar acousticness.

### Visualisation of the Energy, Valence and Mode {data-commentary-width=300}

```{r}
plot_evm <- readRDS(file = "data/plot_evm.RDS")

ggplotly(plot_evm)
```

***
This plot contains information about the energy, valence and mode of the songs added by Julia, Willemijn and Roos. I think it's interesting that the energy of most songs are high. However you can see that Willemijn has the most songs with high energy, which I expected. Another interesting point is that Julia and Willemijn have similarities between energy, valence and mode, their plot looks kind of the same. However mine (Roos) looks very different, my songs are more spread out and have less energy. 

### Chromagrams of two versions of Crazy Little Thing Called Love {data-commentary-width=300}
```{r, out.width="40%"}
plot_chroma <- readRDS(file = "data/plot_chroma.RDS")
plot_chroma2 <- readRDS(file = "data/plot_chroma2.RDS")

subplot(plot_chroma, plot_chroma2, nrows = 2, margin = 0.04, heights = c(0.5, 0.5)) %>% layout(annotations = 
list(list(x = 0.5,  y = 1.0,  
          text = "Crazy Little Thing Called Love - Acoustic Version - Maroon 5",   
    xref = "paper",  
    yref = "paper",  
    xanchor = "center",  
    yanchor = "bottom",  
    showarrow = FALSE ),        list(x = 0.5, y = 0.46,  
          text = "Crazy Little Thing Called Love - Remastered 2011 - Queen",   
    xref = "paper",  
    yref = "paper",  
    xanchor = "center",  
    yanchor = "bottom",  
    showarrow = FALSE )))

```

--- 
These are two chromagrams of the same song 'Crazy Little Thing Called Love', however one is sung by Maroon 5 and the other by Queen. The one from Maroon 5 is added by me and the one from Queen is added by Julia. In the beginning, the Maroon 5 one is a lot in pitch class A and Queen is a lot in D. However, around 50 there is a similar pattern in pitch class E for both songs.

# Conclusion
